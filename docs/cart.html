<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞</title>
  <link rel="stylesheet" href="static/css/style.css">
  <style>
    .cart { padding: 40px 20px; }
    .cart-items { display: flex; flex-direction: column; gap: 20px; }
    .cart-item {
      display: flex;
      align-items: center;
      background: #fff;
      border-radius: 12px;
      padding: 15px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    .cart-img {
      width: 100px; height: 100px; object-fit: cover;
      border-radius: 8px; margin-right: 20px;
    }
    .cart-info { flex: 1; }
    .qty-controls { display: flex; align-items: center; gap: 6px; margin-top: 8px; }
    .qty-btn {
      background: #eee; border: none; padding: 6px 12px;
      border-radius: 6px; cursor: pointer; font-size: 18px;
    }
    .qty-btn:hover { background: #ddd; }
    .qty-input {
      width: 50px; text-align: center;
      border: 1px solid #ccc; border-radius: 6px; padding: 4px;
    }
    .remove-btn {
      background: #ff4444; border: none; color: #fff;
      padding: 8px 14px; border-radius: 8px; cursor: pointer;
    }
    .remove-btn:hover { background: #cc0000; }
    .cart-summary {
      margin-top: 30px; font-size: 1.2em;
      display: flex; justify-content: space-between; align-items: center;
      padding: 15px; background: #fafafa; border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    .cart-actions { display: flex; gap: 15px; }
    .btn {
      display: inline-block; padding: 12px 24px;
      background: #ff6600; color: #fff;
      border-radius: 8px; text-decoration: none;
      transition: 0.3s;
    }
    .btn:hover { background: #e65c00; }
    .btn-accent { background: #28a745; }
    .btn-accent:hover { background: #218838; }
    .empty-cart { text-align: center; font-size: 1.3em; padding: 40px; }
  </style>
</head>
<body>
  <header class="site-header">
    <a href="index.html" class="brand">Art Store</a>
    <nav class="main-nav">
      <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
      <a href="paintings.html">–ö–∞—Ä—Ç–∏–Ω—ã</a>
      <a href="sculptures.html">–°–∫—É–ª—å–ø—Ç—É—Ä—ã</a>
      <a href="rarities.html">–†–∞—Ä–∏—Ç–µ—Ç</a>
      <a href="coins.html">–ú–æ–Ω–µ—Ç—ã</a>
      <a href="contact.html">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
    </nav>
  </header>

  <section class="cart">
    <div class="container">
      <h1 class="page-title">–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞</h1>
      <div class="cart-items" id="cart-items"></div>
      <div class="cart-summary" id="cart-summary" style="display:none;">
        <p><strong>–ò—Ç–æ–≥–æ:</strong> <span id="cart-total">‚Ç¨0</span></p>
        <div class="cart-actions">
          <a href="index.html" class="btn">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–æ–∫—É–ø–∫–∏</a>
          <a href="checkout.html" class="btn btn-accent">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</a>
        </div>
      </div>
      <div class="empty-cart" id="empty-cart" style="display:none;">
        –í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞ üõí
      </div>
    </div>
  </section>

  <footer>
    <p>¬© 2025 Art Store. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
  </footer>

  <script>
    function renderCart() {
      const cart = JSON.parse(localStorage.getItem('cart') || '{}');
      const itemsContainer = document.getElementById('cart-items');
      const summary = document.getElementById('cart-summary');
      const empty = document.getElementById('empty-cart');
      const totalEl = document.getElementById('cart-total');
      itemsContainer.innerHTML = "";

      let total = 0;
      const entries = Object.entries(cart);

      if (entries.length === 0) {
        summary.style.display = "none";
        empty.style.display = "block";
        return;
      }

      empty.style.display = "none";
      summary.style.display = "flex";

      entries.forEach(([name, data]) => {
        const itemTotal = data.price * data.qty;
        total += itemTotal;

        const item = document.createElement('div');
        item.className = 'cart-item';
        item.innerHTML = `
          <img src="${data.img}" alt="${name}" class="cart-img">
          <div class="cart-info">
            <h3>${name}</h3>
            <p>–¶–µ–Ω–∞: ‚Ç¨${data.price}</p>
            <div class="qty-controls">
              <button class="qty-btn" onclick="changeQty('${name}', -1)">-</button>
              <input type="number" value="${data.qty}" class="qty-input" readonly>
              <button class="qty-btn" onclick="changeQty('${name}', 1)">+</button>
            </div>
          </div>
          <button class="remove-btn" onclick="removeItem('${name}')">–£–¥–∞–ª–∏—Ç—å</button>
        `;
        itemsContainer.appendChild(item);
      });

      totalEl.textContent = "‚Ç¨" + total;
    }

    function changeQty(name, delta) {
      const cart = JSON.parse(localStorage.getItem('cart') || '{}');
      if (!cart[name]) return;
      cart[name].qty += delta;
      if (cart[name].qty <= 0) delete cart[name];
      localStorage.setItem('cart', JSON.stringify(cart));
      renderCart();
    }

    function removeItem(name) {
      const cart = JSON.parse(localStorage.getItem('cart') || '{}');
      delete cart[name];
      localStorage.setItem('cart', JSON.stringify(cart));
      renderCart();
    }

    renderCart();
  </script>
</body>
</html>